$schema: "http://json-schema.org/draft-07/schema#"
description: "RNA-seq / TE pipeline configuration schema"

type: object
required:
  - genome
  - Procedure

properties:
  genome:
    type: object
    description: Genome reference configuration by species
    additionalProperties:
      type: object
      required:
        - fasta
        - gtf
      properties:
        fasta:
          type: string
          minLength: 1
          description: Genome FASTA file
        gtf:
          type: string
          minLength: 1
          description: Gene annotation GTF file
        hisat2_index:
          type: string
          description: HISAT2 genome index prefix
        star_index:
          type: string
          description: STAR genome index directory

  TEtranscripts:
    type: object
    description: TEtranscripts configuration by species
    additionalProperties:
      type: object
      required:
        - TE_gtf
      properties:
        TE_gtf:
          type: string
          minLength: 1
          description: Transposable element GTF file

  TElocal:
    type: object
    description: TElocal configuration by species
    additionalProperties:
      type: object
      required:
        - TEind
      properties:
        TEind:
          type: string
          minLength: 1
          description: TElocal TE index file

  Procedure:
    type: object
    description: Pipeline procedure and tool configuration
    required:
      - aligner
    properties:
      aligner:
        type: string
        enum: ["hisat2", "STAR"]
        description: Selected aligner
      STAR:
        type: ["string", "null"]
        description: Path to STAR executable
      hisat2:
        type: ["string", "null"]
        description: Path to hisat2 executable
      hisat2-build:
        type: ["string", "null"]
        description: Path to hisat2-build executable
      samtools:
        type: ["string", "null"]
        description: Path to samtools executable
